<!DOCTYPE html>
<html>

<head>
    <title>Scheme Bypass</title>
    <style>
        warn {
            background-color: red;
            color: yellow;
        }
    </style>
</head>

<body>
    <h1 id="ext" style="display: none;">
        이 기기의 앱에 접근중<br>
        <warn>앱이 무단으로 조작될 수 있음!</warn><br>
        <warn style="color:white;">신뢰할 수 없는 URL이면 페이지 닫기!</warn><br>
    </h1>
    URL: <a id="url"></a><br><br>
    <noscript>Error(오류): JavaScript 미지원 브라우저</noscript>

    <script type="text/javascript">
        const url = new URL(location.href);
        const param = url.searchParams;

        const target = url.searchParams.get('url')?.trim();

        if (target) {
            const urlElem = document.getElementById("url");
            urlElem.href = target;
            urlElem.textContent = target;

            if (!target.startsWith("http")) {
                document.getElementById("ext").style.display = "initial";
            }

            if (url.searchParams.get('dev') != "1") {
                location.href = target;
                setTimeout(() => {
                    history.length <= 1 ? window.close() : history.back();
                }, 500);
            } else {
                document.writeln("dev");
            }
        }
    </script>
</body>

</html>